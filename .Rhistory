install.packages("ggplot2")
source('~/Uczelnia/projekt_geostata/Jezierski_estymacja.R')
setwd("~/Uczelnia/projekt_geostata")
source('~/Uczelnia/projekt_geostata/Jezierski_estymacja.R')
pomiary <- readOGR("dane/pomiary.gpkg")
siatka <- readGDAL("dane/pusta_siatka.tif")
summary(pomiary)
ggplot(pomiary@data, aes(tmin)) + geom_histogram()
ggplot(pomiary@data, aes(tmin)) + geom_histogram()
max(pomiary@data$tmin) # -11.21773
which.max(pomiary@data$tmin) # w wierszu 42
which.max(pomiary@data$tmin) # w wierszu 42
min(pomiary@data$tmin) # -0.8495289
which.min(pomiary@data$tmin) # w wierszu 90
pomiary@data[90, 'tmin'] = NA
pomiary@data[42, 'tmin'] = NA
pomiary = pomiary[!is.na(pomiary$tmin), ]
ggplot(pomiary@data, aes(tmin)) + geom_histogram()
cloud = variogram(tmin~1, pomiary, cloud = TRUE)
plot(cloud)
spplot(pomiary)
spplot(pomiary)
pomiary = pomiary[!is.na(pomiary$tmin), ]
source('~/Uczelnia/projekt_geostata/Jezierski_estymacja.R')
# Wczytanie pakietów
library(rgdal)
library(sp)
library(gstat)
library(ggplot2)
# 1. Wczytanie danych
pomiary <- readOGR("dane/pomiary.gpkg")
siatka <- readGDAL("dane/pusta_siatka.tif")
# 2.Eksploracyjna analiza danych
summary(pomiary)
# Układ - EPSG: 2180, jedna zmienna - tmin, liczba punktów - 196
ggplot(pomiary@data, aes(tmin)) + geom_histogram()
# Z histogramu można odczytać występowanie dwóch wartości odstających:
max(pomiary@data$tmin) # -11.21773
which.max(pomiary@data$tmin) # w wierszu 42
min(pomiary@data$tmin) # -0.8495289
which.min(pomiary@data$tmin) # w wierszu 90
# Usunięcie wartości odstających
pomiary@data[90, 'tmin'] = NA
pomiary@data[42, 'tmin'] = NA
pomiary = pomiary[!is.na(pomiary$tmin), ]
ggplot(pomiary@data, aes(tmin)) + geom_histogram()
# Z poniższego wykresu można odczytać czy nasze dane zawierają wartości lokalnie odstające.
cloud = variogram(tmin~1, pomiary, cloud = TRUE)
plot(cloud)
#
spplot(pomiary)
summary(pomiary)
str(pomiary)
summary(pomiary$tmin)
str(pomiary$tmin)
pomiary$tmin
summary(pomiary$tmin)
str(pomiary$tmin)
str(pomiary)
pomiary@data$tmin
pomiary@data$tmin
summary(pomiary@data$tmin)
str(pomiary)
summary(pomiary)
str(pomiary)
print(pomiary)
spplot(pomiary)
cloud = variogram(tmin~1, pomiary, cloud = TRUE)
plot(cloud)
library("mapview", lib.loc="~/R/x86_64-pc-linux-gnu-library/3.5")
mapview(pomiary["tmin"])
library("maptools", lib.loc="~/R/x86_64-pc-linux-gnu-library/3.5")
library("maps", lib.loc="~/R/x86_64-pc-linux-gnu-library/3.5")
mapview(pomiary["tmin"])
spplot(pomiary)
mapview(pomiary["tmin"])
mapview(pomiary@data$tmin)
#
spplot(pomiary)
library(dane)
spplot(pomiary)
spplot(punkty, "temp", sp.layout = granica)
spplot(pomiary, "tmin", sp.layout = granica)
spplot(punkty, "temp", sp.layout = granica)
library(rgdal)
granica_sp <- readOGR(dsn = "dane/wojewodztwa/województwa.shp")
granica_sp <- readOGR(dsn = "dane/wojewodztwa/województwa.shp")
spplot(pomiary, "tmin", sp.layout = granica_sp)
#
plot(granica)
spplot(pomiary)
spplot(pomiary, "tmin", sp.layout = granica_sp)
spplot(pomiary, "tmin", sp.layout = granica_sp)
plot(pomiary@data$tmin, add = TRUE)
cloud = variogram(tmin~1, pomiary, cloud = TRUE)
plot(cloud)
#
plot(granica)
#
plot(granica_sp)
plot(pomiary@data$tmin, add = TRUE)
#
plot(granica_sp)
warning()
#
plot(granica_sp)
plot(pomiary@data$tmin, add = TRUE)
cloud = variogram(tmin~1, pomiary, cloud = TRUE)
plot(cloud)
spplot(pomiary, "tmin", sp.layout = granica_sp)
cloud = variogram(tmin~1, pomiary, cloud = TRUE)
plot(cloud)
View(pomiary)
cloud = variogram(tmin~1, pomiary, cloud = TRUE)
plot(cloud)
spplot(pomiary, "tmin", sp.layout = granica_sp)
spplot(pomiary, "tmin", sp.layout = granica_sp)
cloud = variogram(tmin~1, pomiary, cloud = TRUE)
plot(cloud)
spplot(pomiary, "tmin", sp.layout = granica_sp)
cloud = variogram(tmin~1, pomiary, cloud = TRUE)
plot(cloud)
git status
plot(cloud, digitize = TRUE)
spplot(pomiary, "tmin", sp.layout = granica_sp)
cloud = variogram(tmin~1, pomiary, cloud = TRUE)
plot(cloud, digitize = TRUE)
plot(cloud, digitize = TRUE)
plot(pomiary$tmin)
spplot(pomiary)
spplot(pomiary, "tmin", sp.layout = granica_sp)
print(pomiary$tmin)
cat(pomiary$tmin)
View(pomiary)
cat(pomiary$tmin)
spplot(pomiary)
plot(cloud, digitize = TRUE)
plot(pomiary$tmin[5])
print(pomiary$tmin[5])
print(pomiary$tmin[175])
plot(pomiary$tmin[c(5, 175)])
cloud = variogram(tmin~1, pomiary, cloud = TRUE)
spplot(pomiary, "tmin", sp.layout = granica_sp)
cloud = variogram(tmin~1, pomiary, cloud = TRUE)
plot(cloud, digitize = TRUE)
selected = plot(cloud, digitize = TRUE)
plot(selected, pomiary, "Spatial")
plot(selected, pomiary, "Spatial", sp.layout = granica_sp)
plot(selected, pomiary, "Spatial", sp.layout = granica_sp)
plot(selected, pomiary, "Spatial", sp.layout = granica_sp)
spplot(selected, pomiary, "Spatial", sp.layout = granica_sp)
spplot(pomiary, "Spatial", sp.layout = granica_sp)
spplot(pomiary, sp.layout = granica_sp)
spplot(selected, sp.layout = granica_sp)
spplot(selected, sp.layout = granica_sp)
spplot(pomiary, "tmin", sp.layout = granica_sp)
cloud = variogram(tmin~1, pomiary, cloud = TRUE)
selected = plot(cloud, digitize = TRUE)
spplot(selected, sp.layout = granica_sp)
plot(selected, pomiary, "Spatial")
cloud = variogram(tmin~1, pomiary, cloud = TRUE)
selected = plot(cloud, digitize = TRUE)
pomiary <- readOGR("dane/pomiary.gpkg")
siatka <- readGDAL("dane/pusta_siatka.tif")
granica_sp <- readOGR(dsn = "dane/wojewodztwa/województwa.shp")
pomiary <- readOGR("dane/pomiary.gpkg")
siatka <- readGDAL("dane/pusta_siatka.tif")
granica_sp <- readOGR(dsn = "dane/wojewodztwa/województwa.shp")
summary(pomiary)
ggplot(pomiary@data, aes(tmin)) + geom_histogram()
spplot(pomiary, "tmin", sp.layout = granica_sp)
max(pomiary@data$tmin) # -11.21773
which.max(pomiary@data$tmin) # w wierszu 42
min(pomiary@data$tmin) # -0.8495289
which.min(pomiary@data$tmin) # w wierszu 90
pomiary@data[90, 'tmin'] = NA
pomiary@data[42, 'tmin'] = NA
pomiary = pomiary[!is.na(pomiary$tmin), ]
ggplot(pomiary@data, aes(tmin)) + geom_histogram()
pomiary@data[90, 'tmin'] = NA
pomiary@data[42, 'tmin'] = NA
pomiary = pomiary[!is.na(pomiary$tmin), ]
ggplot(pomiary@data, aes(tmin)) + geom_histogram()
spplot(pomiary, "tmin", sp.layout = granica_sp)
max(pomiary@data$tmin) # -11.21773
which.max(pomiary@data$tmin) # w wierszu 42
min(pomiary@data$tmin) # -0.8495289
which.min(pomiary@data$tmin) # w wierszu 90
min(pomiary@data$tmin) # -0.8495289
which.min(pomiary@data$tmin) # w wierszu 90
pomiary@data[90, 'tmin'] = NA
pomiary@data[42, 'tmin'] = NA
pomiary = pomiary[!is.na(pomiary$tmin), ]
ggplot(pomiary@data, aes(tmin)) + geom_histogram()
spplot(pomiary, "tmin", sp.layout = granica_sp)
cloud = variogram(tmin~1, pomiary, cloud = TRUE)
selected = plot(cloud, digitize = TRUE)
plot(selected, pomiary, "Spatial")
spplot(pomiary, "tmin", sp.layout = granica_sp)
ggplot(pomiary@data, aes(tmin)) + geom_histogram()
spplot(pomiary, "tmin", sp.layout = granica_sp)
cloud = variogram(tmin~1, pomiary, cloud = TRUE)
spplot(pomiary, "tmin", sp.layout = granica_sp)
cloud = variogram(tmin~1, pomiary, cloud = TRUE)
min(pomiary@data$tmin) # -0.8495289
which.min(pomiary@data$tmin) # w wierszu 90
pomiary@data[5, 'tmin'] = NA
pomiary = pomiary[!is.na(pomiary$tmin), ]
spplot(pomiary, "tmin", sp.layout = granica_sp)
min(pomiary@data$tmin) # -0.8495289
which.min(pomiary@data$tmin) # w wierszu 90
pomiary@data[67, 'tmin'] = NA
pomiary = pomiary[!is.na(pomiary$tmin), ]
spplot(pomiary, "tmin", sp.layout = granica_sp)
source('~/Uczelnia/projekt_geostata/Jezierski_estymacja.R')
selected
print(pomiary@data$tmin)
print(pomiary$tmin)
cat(pomiary$tmin)
pomiary
pomiary$tmin
pomiary$tmin[5]
spplot(pomiary[5], "tmin", sp.layout = granica_sp)
spplot(pomiary, "tmin", sp.layout = granica_sp)
cloud = variogram(tmin~1, pomiary, cloud = TRUE)
selected = plot(cloud, digitize = TRUE)
plot(selected, pomiary, "Spatial")
ggplot(pomiary@data, aes(tmin)) + geom_histogram()
pomiary <- readOGR("dane/pomiary.gpkg")
siatka <- readGDAL("dane/pusta_siatka.tif")
granica_sp <- readOGR(dsn = "dane/wojewodztwa/województwa.shp")
summary(pomiary)
ggplot(pomiary@data, aes(tmin)) + geom_histogram()
max(pomiary@data$tmin) # -11.21773
ggplot(pomiary@data, aes(tmin)) + geom_histogram()
pomiary@data[90, 'tmin'] = NA
pomiary@data[42, 'tmin'] = NA
pomiary = pomiary[!is.na(pomiary$tmin), ]
ggplot(pomiary@data, aes(tmin)) + geom_histogram()
min(pomiary@data$tmin) # -0.8495289
max(pomiary@data$tmin) # -11.21773
pomiary <- readOGR("dane/pomiary.gpkg")
siatka <- readGDAL("dane/pusta_siatka.tif")
granica_sp <- readOGR(dsn = "dane/wojewodztwa/województwa.shp")
summary(pomiary)
ggplot(pomiary@data, aes(tmin)) + geom_histogram()
max(pomiary@data$tmin) # -11.21773
which.max(pomiary@data$tmin) # w wierszu 42
min(pomiary@data$tmin) # -0.8495289
which.min(pomiary@data$tmin) # w wierszu 90
pomiary@data[90, 'tmin'] = NA
pomiary@data[42, 'tmin'] = NA
pomiary = pomiary[!is.na(pomiary$tmin), ]
ggplot(pomiary@data, aes(tmin)) + geom_histogram()
min(pomiary@data$tmin) # -0.8495289
min(pomiary@data$tmin) # -9.801772
which.min(pomiary@data$tmin) # w wierszu 90
ggplot(pomiary@data, aes(tmin)) + geom_histogram()
ggplot(pomiary@data, aes(tmin)) + geom_histogram()
min(pomiary@data$tmin) # -9.801772
which.min(pomiary@data$tmin) # w wierszu 90
pomiary <- readOGR("dane/pomiary.gpkg")
siatka <- readGDAL("dane/pusta_siatka.tif")
granica_sp <- readOGR(dsn = "dane/wojewodztwa/województwa.shp")
summary(pomiary)
ggplot(pomiary@data, aes(tmin)) + geom_histogram()
max(pomiary@data$tmin) # -0.8495289
which.max(pomiary@data$tmin) # w wierszu 42
min(pomiary@data$tmin) # -11.21773
pomiary$tmin[42]
pomiary@data[90, 'tmin'] = NA
pomiary@data[42, 'tmin'] = NA
pomiary = pomiary[!is.na(pomiary$tmin), ]
pomiary$tmin[42]
ggplot(pomiary@data, aes(tmin)) + geom_histogram()
min(pomiary@data$tmin) # -9.801772
which.min(pomiary@data$tmin) # w wierszu 5.
data[,"pomiary", drop=FALSE]
min(pomiary@data$tmin) # -9.801772
which.min(pomiary@data$tmin) # w wierszu 5.
pomiary@data[5, 'tmin'] = NA
pomiary = pomiary[!is.na(pomiary$tmin), ]
pomiary
pomiary$tmin
ggplot(pomiary@data, aes(tmin)) + geom_histogram()
pomiary <- readOGR("dane/pomiary.gpkg")
pomiary@data[90, 'tmin'] = NA
pomiary@data[42, 'tmin'] = NA
pomiary = pomiary[!is.na(pomiary$tmin), ]
ggplot(pomiary@data, aes(tmin)) + geom_histogram()
min(pomiary@data$tmin) # -9.801772
which.min(pomiary@data$tmin) # w wierszu 5.
pomiary@data[5, 'tmin'] = NA
pomiary = pomiary[!is.na(pomiary$tmin), ]
ggplot(pomiary@data, aes(tmin)) + geom_histogram()
spplot(pomiary, "tmin", sp.layout = granica_sp)
cloud = variogram(tmin~1, pomiary, cloud = TRUE)
cloud
spplot(pomiary, "tmin", sp.layout = granica_sp)
cloud = variogram(tmin~1, pomiary, cloud = TRUE)
cloud = variogram(tmin~1, pomiary, cloud = TRUE)
print(cloud)
variogram(tmin~1, pomiary, cloud = TRUE)
spplot(pomiary, "tmin", sp.layout = granica_sp)
cloud = variogram(tmin~1, pomiary, cloud = TRUE)
View(granica_sp)
spplot(pomiary, "tmin", sp.layout = granica_sp)
variogram(tmin~1, pomiary, cloud = TRUE)
spplot(pomiary, "tmin", sp.layout = granica_sp)
variogram(tmin~1, pomiary, cloud = TRUE)
selected = plot(cloud, digitize = TRUE)
selected
variogram(tmin~1, pomiary, cloud = TRUE)
plot(cloud)
spplot(pomiary, "tmin", sp.layout = granica_sp)
cloud = variogram(tmin~1, pomiary, cloud = TRUE)
plot(cloud)
selected = plot(cloud, digitize = TRUE)
plot(selected, pomiary, "Spatial")
spplot(pomiary, "tmin", sp.layout = granica_sp)
mapview(punkty["temp"])
mapview(pomiary["tmin"])
detach("package:mapview", unload=TRUE)
library("mapview", lib.loc="~/R/x86_64-pc-linux-gnu-library/3.5")
mapview(pomiary["tmin"])
install.packages("viridisLite")
library("mapview", lib.loc="~/R/x86_64-pc-linux-gnu-library/3.5")
mapview(pomiary["tmin"])
library("viridisLite", lib.loc="~/R/x86_64-pc-linux-gnu-library/3.5")
mapview(pomiary["tmin"])
plot(selected, pomiary, "Spatial")
mapview(pomiary["tmin"])
selected = plot(cloud, digitize = TRUE)
plot(selected, pomiary, "Spatial")
mapview(pomiary["tmin"])
spplot(pomiary, "tmin", sp.layout = granica_sp)
cloud = variogram(tmin~1, pomiary, cloud = TRUE)
plot(cloud)
plot(cloud)
plot(cloud)
selected = plot(cloud, digitize = TRUE)
plot(selected, pomiary, "Spatial")
